{"version":3,"sources":["../../server/controllers/checkUser.js"],"names":["require","updateUser","getSingleUser","verify","req","res","params","userEmail","email","user","setStatus","newUser","status","send","data","JSON","stringify","message","module","exports"],"mappings":";;AAAA;eACsCA,OAAO,CAAC,sBAAD,C;IAArCC,U,YAAAA,U;IAAYC,a,YAAAA,a,EAEpB;;;AACA,SAASC,MAAT,CAAgBC,GAAhB,EAAqBC,GAArB,EAA0B;AACxB,MAAID,GAAG,CAACE,MAAJ,CAAWC,SAAf,EAA0B;AACxB,QAAMC,KAAK,GAAGJ,GAAG,CAACE,MAAJ,CAAWC,SAAzB;;AACA,QAAIC,KAAJ,EAAW;AACT,UAAMC,IAAI,GAAGP,aAAa,CAACM,KAAD,CAAb,CAAqB,CAArB,CAAb;;AACA,UAAIC,IAAJ,EAAU;AACRA,QAAAA,IAAI,CAACC,SAAL,CAAe,UAAf;AACA,YAAMC,OAAO,GAAGV,UAAU,CAACQ,IAAD,CAA1B;AACAJ,QAAAA,GAAG,CAACO,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AACnBD,UAAAA,MAAM,EAAE,GADW;AAEnBE,UAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeL,OAAf;AAFa,SAArB;AAID,OAPD,MAOO;AACLN,QAAAA,GAAG,CAACO,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AACnBD,UAAAA,MAAM,EAAE,GADW;AAEnBK,UAAAA,OAAO,EAAE;AAFU,SAArB;AAID;AACF,KAfD,MAeO;AACLZ,MAAAA,GAAG,CAACO,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AACnBD,QAAAA,MAAM,EAAE,GADW;AAEnBK,QAAAA,OAAO,EAAE;AAFU,OAArB;AAID;AACF,GAvBD,MAuBO;AACLZ,IAAAA,GAAG,CAACO,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AACnBD,MAAAA,MAAM,EAAE,GADW;AAEnBK,MAAAA,OAAO,EAAE;AAFU,KAArB;AAID;AACF;;AACDC,MAAM,CAACC,OAAP,GAAiBhB,MAAjB","sourcesContent":["/* eslint-disable linebreak-style */\r\nconst { updateUser, getSingleUser } = require('../helper/userHelper');\r\n\r\n// Parse incoming requests data\r\nfunction verify(req, res) {\r\n  if (req.params.userEmail) {\r\n    const email = req.params.userEmail;\r\n    if (email) {\r\n      const user = getSingleUser(email)[0];\r\n      if (user) {\r\n        user.setStatus('verified');\r\n        const newUser = updateUser(user);\r\n        res.status(200).send({\r\n          status: 200,\r\n          data: JSON.stringify(newUser),\r\n        });\r\n      } else {\r\n        res.status(403).send({\r\n          status: 403,\r\n          message: 'This email does not exist',\r\n        });\r\n      }\r\n    } else {\r\n      res.status(400).send({\r\n        status: 400,\r\n        message: 'bad request',\r\n      });\r\n    }\r\n  } else {\r\n    res.status(400).send({\r\n      status: 400,\r\n      message: 'bad request, please provide valid parameter',\r\n    });\r\n  }\r\n}\r\nmodule.exports = verify;\r\n"],"file":"checkUser.js"}
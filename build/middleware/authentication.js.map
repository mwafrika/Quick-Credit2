{"version":3,"sources":["../../server/middleware/authentication.js"],"names":["auth","req","res","next","token","headers","authorization","split","decoded","jwt","verify","userData","error","status","json"],"mappings":";;;;;;;AAIA;;;;AAJA;;AACA;;AACA;;AACA;AAGO,IAAIA,IAAJ;;;eAEQ,kBAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AACjC,MAAI;AACF,QAAMC,KAAK,GAAGH,GAAG,CAACI,OAAJ,CAAYC,aAAZ,CAA0BC,KAA1B,CAAgC,GAAhC,EAAqC,CAArC,CAAd;;AACA,QAAMC,OAAO,GAAGC,yBAAIC,MAAJ,CAAWN,KAAX,EAAkB,gBAAlB,CAAhB;;AACAH,IAAAA,GAAG,CAACU,QAAJ,GAAeH,OAAf;AACA,mBAAAR,IAAI,GAAGQ,OAAP;AACAL,IAAAA,IAAI;AACL,GAND,CAME,OAAOS,KAAP,EAAc;AACd,WAAOV,GAAG,CAACW,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAC1BD,MAAAA,MAAM,EAAE,GADkB;AAE1BD,MAAAA,KAAK,EAAE;AAFmB,KAArB,CAAP;AAID;AACF,C","sourcesContent":["/* eslint-disable linebreak-style */\r\n/* eslint-disable consistent-return */\r\n/* eslint-disable import/no-mutable-exports */\r\n/* eslint-disable linebreak-style */\r\nimport jwt from 'jsonwebtoken';\r\n\r\nexport let auth;\r\n\r\nexport default (req, res, next) => {\r\n  try {\r\n    const token = req.headers.authorization.split(' ')[1];\r\n    const decoded = jwt.verify(token, 'josmwafrika789');\r\n    req.userData = decoded;\r\n    auth = decoded;\r\n    next();\r\n  } catch (error) {\r\n    return res.status(401).json({\r\n      status: 401,\r\n      error: 'Authentication failed, please check your credentials',\r\n    });\r\n  }\r\n};\r\n"],"file":"authentication.js"}
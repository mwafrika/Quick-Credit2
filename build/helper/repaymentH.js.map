{"version":3,"sources":["../../server/helper/repaymentH.js"],"names":["require","repayment","loanHelper","updateLoanPayment","loanID","newAmount","loan","getSingleLoan","setBalance","getBalance","updateLoan","getAmount","addNewLoanRepayment","newRepayment","push","getLoanId","getRepaymentCount","loanRepayment","length","getLoanRepayment","filter","module","exports"],"mappings":";;AAAA;eACoBA,OAAO,CAAC,sBAAD,C;IAApBC,S,YAAAA,S;;AACP,IAAMC,UAAU,GAAGF,OAAO,CAAC,eAAD,CAA1B;;AAEA,SAASG,iBAAT,CAA2BC,MAA3B,EAAmCC,SAAnC,EAA8C;AAC5C,MAAMC,IAAI,GAAGJ,UAAU,CAACK,aAAX,CAAyBH,MAAzB,CAAb;AACAE,EAAAA,IAAI,CAACE,UAAL,CAAgBF,IAAI,CAACG,UAAL,KAAoBJ,SAApC;AACA,SAAOH,UAAU,CAACQ,UAAX,CAAsBJ,IAAtB,CAAP;AACD,C,CACD;;;AACAH,iBAAiB,CAAC,CAAD,EAAIF,SAAS,CAAC,CAAD,CAAT,CAAaU,SAAb,EAAJ,CAAjB;;AAEA,SAASC,mBAAT,CAA6BC,YAA7B,EAA2C;AACzCZ,EAAAA,SAAS,CAACa,IAAV,CAAeD,YAAf;AACA,SAAOV,iBAAiB,CAACU,YAAY,CAACE,SAAb,EAAD,EAA2BF,YAAY,CAACF,SAAb,EAA3B,CAAxB;AACD;;AACD,SAASK,iBAAT,GAA6B;AAC3B,SAAOC,aAAa,CAAChB,SAAd,CAAwBiB,MAA/B;AACD;;AACD,SAASC,gBAAT,CAA0Bf,MAA1B,EAAkC;AAChC;AACA,SAAOH,SAAS,CAACmB,MAAV,CAAiB,UAAAnB,SAAS;AAAA,WAAIA,SAAS,CAACc,SAAV,KAAwBX,MAA5B;AAAA,GAA1B,CAAP;AACD;;AACDiB,MAAM,CAACC,OAAP,GAAiB;AACfnB,EAAAA,iBAAiB,EAAjBA,iBADe;AAEfS,EAAAA,mBAAmB,EAAnBA,mBAFe;AAGfI,EAAAA,iBAAiB,EAAjBA,iBAHe;AAIfG,EAAAA,gBAAgB,EAAhBA;AAJe,CAAjB","sourcesContent":["/* eslint-disable linebreak-style */\nconst {repayment} = require('../models/Repayment1');\nconst loanHelper = require('./loansHelper');\n\nfunction updateLoanPayment(loanID, newAmount) {\n  const loan = loanHelper.getSingleLoan(loanID);\n  loan.setBalance(loan.getBalance() - newAmount);\n  return loanHelper.updateLoan(loan);\n}\n// updateLoanPayment(0, loanRepayment.loanRepaymentData[0].getAmount());\nupdateLoanPayment(0, repayment[0].getAmount());\n\nfunction addNewLoanRepayment(newRepayment) {\n  repayment.push(newRepayment);\n  return updateLoanPayment(newRepayment.getLoanId(), newRepayment.getAmount());\n}\nfunction getRepaymentCount() {\n  return loanRepayment.repayment.length;\n}\nfunction getLoanRepayment(loanID) {\n  // return loanRepayment.repayment.filter(repayment => repayment.loanId.toString() === loanID); // changed .getLoanId() to getId\n  return repayment.filter(repayment => repayment.getLoanId === loanID);\n}\nmodule.exports = {\n  updateLoanPayment,\n  addNewLoanRepayment,\n  getRepaymentCount,\n  getLoanRepayment,\n};\n"],"file":"repaymentH.js"}